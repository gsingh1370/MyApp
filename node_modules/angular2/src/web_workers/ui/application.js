'use strict';var post_message_bus_1 = require('angular2/src/web_workers/shared/post_message_bus');
var impl_1 = require("angular2/src/web_workers/ui/impl");
/**
 * Bootstrapping a WebWorker
 *
 * You instantiate a WebWorker application by calling bootstrap with the URI of your worker's index
 * script
 * Note: The WebWorker script must call bootstrapWebworker once it is set up to complete the
 * bootstrapping process
 */
function bootstrap(uri) {
    var messageBus = spawnWebWorker(uri);
    impl_1.bootstrapUICommon(messageBus);
    return messageBus;
}
exports.bootstrap = bootstrap;
function spawnWebWorker(uri) {
    var webWorker = new Worker(uri);
    var sink = new post_message_bus_1.PostMessageBusSink(webWorker);
    var source = new post_message_bus_1.PostMessageBusSource(webWorker);
    return new post_message_bus_1.PostMessageBus(sink, source);
}
exports.spawnWebWorker = spawnWebWorker;
//# sourceMappingURL=application.js.map